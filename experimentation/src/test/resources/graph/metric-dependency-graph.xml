<?xml version="1.0" encoding="UTF-8"?>
<graph xmlns="http://www.rigiresearch.com/middleware/graph/1.0.0">
  <!--Metrics-->
  <metric name="latency">
    <dependency node="demand"/>
    <dependency node="vCPUs"/>
    <dependency node="RAM"/>
    <dependency node="nodes"/>
    <metadata>
      <!--The equation is approximated during knowledge reification-->
      <!--<property name="equation" value=""/>-->
      <property name="type" value="minimize"/>
    </metadata>
  </metric>
  <metric name="throughput">
    <dependency node="demand"/>
    <dependency node="vCPUs"/>
    <dependency node="RAM"/>
    <dependency node="nodes"/>
    <metadata>
      <!--The equation is approximated during knowledge reification-->
      <!--<property name="equation" value=""/>-->
      <property name="type" value="maximize"/>
    </metadata>
  </metric>
  <metric name="utilization">
    <dependency node="demand"/>
    <dependency node="vCPUs"/>
    <dependency node="RAM"/>
    <dependency node="nodes"/>
    <metadata>
      <!--The equation is approximated during knowledge reification-->
      <!--<property name="equation" value=""/>-->
      <property name="type" value="maximize"/>
    </metadata>
  </metric>

  <!--Functions-->
  <function name="cost">
    <dependency node="vCPUs"/>
    <dependency node="RAM"/>
    <dependency node="nodes"/>
    <metadata>
      <property name="equation" value="nodes * (2*vCPUs + 1*RAM)"/>
    </metadata>
  </function>
  <function name="objective">
    <dependency node="cost"/>
    <dependency node="latency"/>
    <dependency node="throughput"/>
    <dependency node="utilization"/>
    <metadata>
      <property name="equation" value="0.6*latency + 0.1*throughput + 0.1*(1 - utilization) + 0.2*(1 - cost)"/>
      <property name="type" value="minimize"/>
    </metadata>
  </function>

  <!--Variables-->
  <variable name="demand">
    <metadata>
      <property name="demand_min" value="0"/>
    </metadata>
  </variable>
  <variable name="vCPUs">
    <metadata>
      <property name="vCPUs_min" value="1"/>
      <property name="vCPUs_max" value="6"/>
    </metadata>
  </variable>
  <variable name="RAM">
    <metadata>
      <property name="RAM_min" value="1"/>
      <property name="RAM_max" value="8"/>
    </metadata>
  </variable>
  <variable name="nodes">
    <metadata>
      <property name="nodes_min" value="1"/>
      <property name="nodes_max" value="6"/>
    </metadata>
  </variable>
</graph>
